(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22],{45022:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Map}});var r=n(57437),o=n(30447);function _detectIconOptions(e,t){var n=o.DomUtil.create("div",e,document.body),r=_extractUrls(_getBkgImageOrCursor(n),t),l=_getStyleInt(n,"width"),i=_getStyleInt(n,"height"),u=_getStyleInt(n,"margin-left"),a=_getStyleInt(n,"margin-top");return n.parentNode.removeChild(n),{Url:r[0],RetinaUrl:r[1],Size:[l,i],Anchor:[-u,-a]}}function _detectDivOverlayOptions(e){var t=o.DomUtil.create("div",e,document.body),n=_getStyleInt(t,"margin-left"),r=_getStyleInt(t,"margin-top");return t.parentNode.removeChild(t),{Anchor:[n,r]}}function _extractUrls(e,t){for(var n=/url\(['"]?([^"']*?)['"]?\)/gi,r=[],o=n.exec(e);o;)r.push(t?_stripPath(o[1]):o[1]),o=n.exec(e);return r}function _stripPath(e){return e.substr(e.lastIndexOf("/")+1)}function _getStyleInt(e,t){return parseInt(_getStyle(e,t),10)}function _getStyle(e,t){return o.DomUtil.getStyle(e,t)||o.DomUtil.getStyle(e,_kebabToCamelCase(t))}function _getBkgImageOrCursor(e){var t=_getStyle(e,"background-image");return t&&"none"!==t?t:_getStyle(e,"cursor")}function _kebabToCamelCase(e){return e.replace(/-(\w)/g,function(e,t){return t.toUpperCase()})}o.Icon.Default.mergeOptions({iconUrl:null,iconRetinaUrl:null,shadowUrl:null,iconSize:null,iconAnchor:null,popupAnchor:null,tooltipAnchor:null,shadowSize:null,classNamePrefix:"leaflet-default-icon-"}),o.Icon.Default.include({_needsInit:!0,_getIconUrl:function(e){var t=this.options.imagePath||o.Icon.Default.imagePath||"";return this._needsInit&&this._initializeOptions(t),t+o.Icon.prototype._getIconUrl.call(this,e)},_initializeOptions:function(e){this._setOptions("icon",_detectIconOptions,e),this._setOptions("shadow",_detectIconOptions,e),this._setOptions("popup",_detectDivOverlayOptions),this._setOptions("tooltip",_detectDivOverlayOptions),this._needsInit=!1},_setOptions:function(e,t,n){var r=this.options,o=t(r.classNamePrefix+e,n);for(var l in o)r[e+l]=r[e+l]||o[l]}}),n(58132),n(91374);var l=n(2265);function createLeafletContext(e){return Object.freeze({__version:1,map:e})}function extendContext(e,t){return Object.freeze({...e,...t})}let i=(0,l.createContext)(null),u=i.Provider;function useLeafletContext(){let e=(0,l.useContext)(i);if(null==e)throw Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function useMap(){return useLeafletContext().map}function useMapEvents(e){let t=useMap();return(0,l.useEffect)(function(){return t.on(e),function(){t.off(e)}},[t,e]),t}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function MapContainerComponent({bounds:e,boundsOptions:t,center:n,children:r,className:i,id:a,placeholder:c,style:s,whenReady:f,zoom:p,...d},m){let[g]=(0,l.useState)({className:i,id:a,style:s}),[_,y]=(0,l.useState)(null);(0,l.useImperativeHandle)(m,()=>_?.map??null,[_]);let h=(0,l.useCallback)(r=>{if(null!==r&&null===_){let l=new o.Map(r,d);null!=n&&null!=p?l.setView(n,p):null!=e&&l.fitBounds(e,t),null!=f&&l.whenReady(f),y(createLeafletContext(l))}},[]);(0,l.useEffect)(()=>()=>{_?.map.remove()},[_]);let C=_?l.createElement(u,{value:_},r):c??null;return l.createElement("div",_extends({},g,{ref:h}),C)}let a=(0,l.forwardRef)(MapContainerComponent);function component_createContainerComponent(e){function ContainerComponent(t,n){let{instance:r,context:o}=e(t).current;return(0,l.useImperativeHandle)(n,()=>r),null==t.children?null:l.createElement(u,{value:o},t.children)}return(0,l.forwardRef)(ContainerComponent)}function component_createLeafComponent(e){function LeafComponent(t,n){let{instance:r}=e(t).current;return(0,l.useImperativeHandle)(n,()=>r),null}return(0,l.forwardRef)(LeafComponent)}function element_createElementObject(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function element_createElementHook(e,t){return null==t?function(t,n){let r=(0,l.useRef)();return r.current||(r.current=e(t,n)),r}:function(n,r){let o=(0,l.useRef)();o.current||(o.current=e(n,r));let i=(0,l.useRef)(n),{instance:u}=o.current;return(0,l.useEffect)(function(){i.current!==n&&(t(u,n,i.current),i.current=n)},[u,n,r]),o}}function useAttribution(e,t){let n=(0,l.useRef)(t);(0,l.useEffect)(function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}function useEventHandlers(e,t){let n=(0,l.useRef)();(0,l.useEffect)(function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}},[e,t])}function withPane(e,t){let n=e.pane??t.pane;return n?{...e,pane:n}:e}function useLayerLifecycle(e,t){(0,l.useEffect)(function(){let n=t.layerContainer??t.map;return n.addLayer(e.instance),function(){t.layerContainer?.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function createLayerHook(e){return function(t){let n=useLeafletContext(),r=e(withPane(t,n),n);return useAttribution(n.map,t.attribution),useEventHandlers(r.current,t.eventHandlers),useLayerLifecycle(r.current,n),r}}function createLayerComponent(e,t){let n=element_createElementHook(e,t),r=createLayerHook(n);return component_createContainerComponent(r)}function createTileLayerComponent(e,t){let n=element_createElementHook(e,t),r=createLayerHook(n);return component_createLeafComponent(r)}function updateGridLayer(e,t,n){let{opacity:r,zIndex:o}=t;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=o&&o!==n.zIndex&&e.setZIndex(o)}n(54887);let c=createTileLayerComponent(function({url:e,...t},n){let r=new o.TileLayer(e,withPane(t,n));return element_createElementObject(r,n)},function(e,t,n){updateGridLayer(e,t,n);let{url:r}=t;null!=r&&r!==n.url&&e.setUrl(r)}),s=createLayerComponent(function({position:e,...t},n){let r=new o.Marker(e,t);return element_createElementObject(r,extendContext(n,{overlayContainer:r}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())});function AddTodo(e){let{onClick:t}=e;return useMapEvents({click(e){e.latlng&&t(e.latlng)}}),null}function Map(e){let{position:t,zoom:n,todos:o,onClick:l}=e;return(0,r.jsxs)(a,{center:t,zoom:n,scrollWheelZoom:!1,style:{height:"70vh",width:"93vw"},children:[(0,r.jsx)(c,{attribution:'\xa9 <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),o.map((e,t)=>(0,r.jsx)(s,{position:e.location},t)),(0,r.jsx)(AddTodo,{onClick:l})]})}},58132:function(){},91374:function(){}}]);